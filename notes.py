def calculate_new_vector(v1, v2):
    vector = [(a + b)/2 for a, b in zip(v1, v2)]
    normal = sum([x**2 for x in vector])**(1/2)

    vector = [x/normal for x in vector]
    return vector

def update_figure(v, indices):

    salto = 0
    nuevo_vertice = len(indices)

    for i in range(len(indices)):
        v1_indice = indices[3*i + 0]
        v2_indice = indices[3*i + 1]
        v3_indice = indices[3*i + 2]

        v1 = [v[v1_indice * 0 + 0], v[v1_indice * 0 + 1], v[v1_indice * 0 + 2]]
        v2 = [v[v2_indice * 0 + 0], v[v2_indice * 0 + 1], v[v2_indice * 0 + 2]]
        v3 = [v[v3_indice * 0 + 0], v[v3_indice * 0 + 1], v[v3_indice * 0 + 2]]

        salto += 3
        
        # v1_2 = [(a + b)/2 for a, b in zip(v1_indice, v2_indice)]
        v1_2 = calculate_new_vector(v1, v2)
        v2_3 = calculate_new_vector(v2, v3)
        v1_3 = calculate_new_vector(v1, v3)

        [v.append(a) for a in v1_2]
        # nuevo_vertice+=1
        [v.append(a) for a in v2_3]
        # nuevo_vertice+=1
        [v.append(a) for a in v1_3]
        nuevo_vertice+=3

        indices + [v1_indice, nuevo_vertice - 3, nuevo_vertice - 1]
        indices + [v2_indice, nuevo_vertice - 3, nuevo_vertice - 2]
        indices + [v3_indice, nuevo_vertice - 1, nuevo_vertice - 2]
        indices + [nuevo_vertice - 1, nuevo_vertice - 2, nuevo_vertice - 3]

        # print(v1_2)

        if salto > len(indices) - 1:
            break

        # print(v1)
        # print(v2)
        # print(v3)

    print(v)
    print(indices)
    
    return [indices, v]

    

a = 0.525731112119133606
b = 0.850650808352039932

v = [-a, 0.0, b,
        a, 0.0, a,
        -a, 0.0, b,
        a, 0.0, -b,
        0.0, b, a,
        0.0, b, -a,
        0.0,-b, a,
        0.0, -b, -a,
        b, -a, 0.0,
        -b, a, 0.0,
        b, a, 0.0,
        -b, a, 0.0
    ]


indices = [0,1,4,
            0,4,9,
            9,4,5,
            4,8,5,
            4,1,8,
            8,1,10,
            8,10,3,
            5,8,3,
            5,3,2,
            2,3,7,
            7,3,10,
            7,10,6,
            7,6,11,
            11,6,0,
            0,6,1,
            6,10,1,
            9,11,0,
            9,2,11,
            9,5,2,
            7,11,2
    ]

a = 1.0


vertices_array = [
    a, 0, 0,
    0, -a, 0,
    0, a, 0
    -a, 0, 0,
    0, 0, a,
]

indices_array = [
    0, 1, 4,
    1, 2, 4,
    2, 3, 4,
    3, 0, 4
]

update_figure(v, indices)


[0.0, 0.0, 1.0, 0.30901699437494745, 0.5000000000000001, 0.8090169943749475, -0.30901699437494745, 0.5000000000000001, 0.8090169943749475, -0.30901699437494745, 0.5000000000000001, 0.8090169943749475, -0.5000000000000001, 0.8090169943749475, 0.30901699437494745, -0.8090169943749475, 0.30901699437494745, 0.5000000000000001, -0.5000000000000001, 0.8090169943749475, 0.30901699437494745, 0.0, 1.0, 0.0, -0.5000000000000001, 0.8090169943749475, -0.30901699437494745, 0.5000000000000001, 0.8090169943749475, 0.30901699437494745, 0.5000000000000001, 0.8090169943749475, -0.30901699437494745, 0.0, 1.0, 0.0, 0.30901699437494745, 0.5000000000000001, 0.8090169943749475, 0.8090169943749475, 0.30901699437494745, 0.5000000000000001, 0.5000000000000001, 0.8090169943749475, 0.30901699437494745, 0.8090169943749475, 0.30901699437494745, 0.5000000000000001, 0.8090169943749475, -0.30901699437494745, 0.5000000000000001, 1.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.8090169943749475, -0.30901699437494745, -0.5000000000000001, 0.8090169943749475, 0.30901699437494745, -0.5000000000000001, 0.5000000000000001, 0.8090169943749475, -0.30901699437494745, 0.8090169943749475, 0.30901699437494745, -0.5000000000000001, 0.30901699437494745, 0.5000000000000001, -0.8090169943749475, 0.30901699437494745, 0.5000000000000001, -0.8090169943749475, 0.0, 0.0, -1.0, -0.30901699437494745, 0.5000000000000001, -0.8090169943749475, 0.0, 0.0, -1.0, 0.30901699437494745, -0.5000000000000001, -0.8090169943749475, -0.30901699437494745, -0.5000000000000001, -0.8090169943749475, 0.30901699437494745, -0.5000000000000001, -0.8090169943749475, 0.8090169943749475, -0.30901699437494745, -0.5000000000000001, 0.5000000000000001, -0.8090169943749475, -0.30901699437494745, 0.5000000000000001, -0.8090169943749475, -0.30901699437494745, 0.5000000000000001, -0.8090169943749475, 0.30901699437494745, 0.0, -1.0, 0.0, 0.0, -1.0, 0.0, -0.5000000000000001, -0.8090169943749475, 0.30901699437494745, -0.5000000000000001, -0.8090169943749475, -0.30901699437494745, -0.5000000000000001, -0.8090169943749475, 0.30901699437494745, -0.30901699437494745, -0.5000000000000001, 0.8090169943749475, -0.8090169943749475, -0.30901699437494745, 0.5000000000000001, -0.30901699437494745, -0.5000000000000001, 0.8090169943749475, 0.30901699437494745, -0.5000000000000001, 0.8090169943749475, 0.0, 0.0, 1.0, 0.5000000000000001, -0.8090169943749475, 0.30901699437494745, 0.8090169943749475, -0.30901699437494745, 0.5000000000000001, 0.30901699437494745, -0.5000000000000001, 0.8090169943749475, -1.0, 0.0, 0.0, -0.8090169943749475, -0.30901699437494745, 0.5000000000000001, -0.8090169943749475, 0.30901699437494745, 0.5000000000000001, -0.8090169943749475, 0.30901699437494745, -0.5000000000000001, -0.8090169943749475, -0.30901699437494745, -0.5000000000000001, -1.0, 0.0, 0.0, -0.5000000000000001, 0.8090169943749475, -0.30901699437494745, -0.30901699437494745, 0.5000000000000001, -0.8090169943749475, -0.8090169943749475, 0.30901699437494745, -0.5000000000000001, -0.5000000000000001, -0.8090169943749475, -0.30901699437494745, -0.8090169943749475, -0.30901699437494745, -0.5000000000000001, -0.30901699437494745, -0.5000000000000001, -0.8090169943749475]
[0, 19, 21, 1, 19, 20, 4, 21, 20, 21, 20, 19, 0, 22, 24, 4, 22, 23, 9, 24, 23, 24, 23, 22, 9, 25, 27, 4, 25, 26, 5, 27, 26, 27, 26, 25, 4, 28, 30, 8, 28, 29, 5, 30, 29, 30, 29, 28, 4, 31, 33, 1, 31, 32, 8, 33, 32, 33, 32, 31, 8, 34, 36, 1, 34, 35, 10, 36, 35, 36, 35, 34, 8, 37, 39, 10, 37, 38, 3, 39, 38, 39, 38, 37, 5, 40, 42, 8, 40, 41, 3, 42, 41, 42, 41, 40, 5, 43, 45, 3, 43, 44, 2, 45, 44, 45, 44, 43, 2, 46, 48, 3, 46, 47, 7, 48, 47, 48, 47, 46, 7, 49, 51, 3, 49, 50, 10, 51, 50, 51, 50, 49, 7, 52, 54, 10, 52, 53, 6, 54, 53, 54, 53, 52, 7, 55, 57, 6, 55, 56, 11, 57, 56, 57, 56, 55, 11, 58, 60, 6, 58, 59, 0, 60, 59, 60, 59, 58, 0, 61, 63, 6, 61, 62, 1, 63, 62, 63, 62, 61, 6, 64, 66, 10, 64, 65, 1, 66, 65, 66, 65, 64, 9, 67, 69, 11, 67, 68, 0, 69, 68, 69, 68, 67, 9, 70, 72, 2, 70, 71, 11, 72, 71, 72, 71, 70, 9, 73, 75, 5, 73, 74, 2, 75, 74, 75, 74, 73, 7, 76, 78, 11, 76, 77, 2, 78, 77, 78, 77, 76]


glDrawElements(GL_TRIANGLES, len(indices), GL_UNSIGNED_INT, None)